<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bus Seat Selection - Yutong F12</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .seat-selection-card {
            max-width: 800px;
            margin: 50px auto;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            background: #ffffff;
        }
        .header {
            background: linear-gradient(90deg, #28a745, #20c997);
            color: white;
            padding: 20px;
            text-align: center;
            border-radius: 10px 10px 0 0;
        }
        .seat {
            width: 50px;
            height: 50px;
            margin: 5px;
            border-radius: 5px;
            background-color: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .seat.selected {
            background-color: #28a745;
            color: white;
        }
        .seat.disabled {
            background-color: #6c757d;
            cursor: not-allowed;
        }
        .seat-map {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin: 20px 0;
        }
        .aisle {
            height: 50px;
            margin: 5px;
        }
        .total-amount {
            font-size: 1.2rem;
            font-weight: bold;
            color: #343a40;
        }
        .selected-seats-list {
            font-size: 1rem;
            color: #343a40;
            margin-top: 10px;
        }
        .btn-confirm {
            background-color: #28a745;
            border: none;
            padding: 12px;
            font-size: 1.1rem;
        }
        .btn-confirm:hover {
            background-color: #218838;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="seat-selection-card">
            <div class="header">
                <h2><i class="fas fa-chair"></i> Select Your Seats</h2>
                <p>Yutong F12 Bus - TZS 45,000 per seat</p>
            </div>
            <div class="mt-4">
                <!-- Seat Map -->
                <div class="seat-map" id="seatMap">
                    <!-- Seats will be generated by JavaScript -->
                </div>
                <!-- Total Amount and Selected Seats -->
                <div class="total-amount mb-3">
                    Selected Seats: <span id="selectedSeats">0</span> | Total Amount: TZS <span id="totalAmount">0</span>
                </div>
                <div class="selected-seats-list">
                    <strong>Selected Seats:</strong> <span id="selectedSeatsList">None</span>
                </div>
                <!-- Confirm Button -->
                <div class="d-grid mt-3">
                    <button class="btn btn-confirm text-white" onclick="confirmSeats()"><i class="fas fa-check"></i> Confirm Seats</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap 5 JS and Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const seatPrice = 45000; // Price per seat in TZS
        let selectedSeats = [];

        // Yutong F12 seat layout: 2+2 configuration, 11 rows + 1 last row (5 seats), total 49 seats
        const seatLayout = [
            ['1A', '1B', '', '1C', '1D'], // Row 1
            ['2A', '2B', '', '2C', '2D'],
            ['3A', '3B', '', '3C', '3D'],
            ['4A', '4B', '', '4C', '4D'],
            ['5A', '5B', '', '5C', '5D'],
            ['6A', '6B', '', '6C', '6D'],
            ['7A', '7B', '', '7C', '7D'],
            ['8A', '8B', '', '8C', '8D'],
            ['9A', '9B', '', '9C', '9D'],
            ['10A', '10B', '', '10C', '10D'],
            ['11A', '11B', '', '11C', '11D'],
            ['12A', '12B', '12C', '12D', '12E'] // Last row with 5 seats
        ];

        // Generate seat map
        function generateSeatMap() {
            const seatMap = document.getElementById('seatMap');
            seatLayout.forEach(row => {
                row.forEach(seat => {
                    if (seat === '') {
                        // Aisle
                        const aisle = document.createElement('div');
                        aisle.className = 'aisle';
                        seatMap.appendChild(aisle);
                    } else {
                        // Seat
                        const seatDiv = document.createElement('div');
                        seatDiv.className = 'seat';
                        seatDiv.textContent = seat;
                        seatDiv.dataset.seat = seat;
                        // Randomly disable some seats to simulate booked seats
                        if (Math.random() < 0.2) {
                            seatDiv.className = 'seat disabled';
                        } else {
                            seatDiv.onclick = () => toggleSeat(seat, seatDiv);
                        }
                        seatMap.appendChild(seatDiv);
                    }
                });
            });
        }

        // Toggle seat selection
        function toggleSeat(seat, seatDiv) {
            if (seatDiv.classList.contains('disabled')) return;

            if (selectedSeats.includes(seat)) {
                selectedSeats = selectedSeats.filter(s => s !== seat);
                seatDiv.classList.remove('selected');
            } else {
                selectedSeats.push(seat);
                seatDiv.classList.add('selected');
            }
            updateTotal();
        }

        // Update total amount and selected seats list
        function updateTotal() {
            const seatCount = selectedSeats.length;
            const total = seatCount * seatPrice;
            document.getElementById('selectedSeats').textContent = seatCount;
            document.getElementById('totalAmount').textContent = total.toLocaleString();
            document.getElementById('selectedSeatsList').textContent = selectedSeats.length > 0 ? selectedSeats.join(', ') : 'None';
        }

        // Confirm seats
        function confirmSeats() {
            if (selectedSeats.length === 0) {
                alert('Please select at least one seat.');
                return;
            }
            alert(`You have selected ${selectedSeats.length} seat(s): ${selectedSeats.join(', ')}\nTotal Amount: TZS ${ (selectedSeats.length * seatPrice).toLocaleString()}\nBooking confirmed!`);
        }

        // Initialize seat map
        generateSeatMap();
    </script>
</body>
</html>